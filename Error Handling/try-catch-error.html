<!DOCTYPE html>
<html>
<head>
  <title>JavaScript Error Handling</title>
</head>
<body>
  <h2>Open Console to See Output</h2>

  <script>
    // ‚úÖ 1. Basic try-catch example
    try {
      let a = 5;
      let b = a + c; // 'c' is not defined ‚Üí error
    } catch (error) {
      console.log("‚ùå Error caught:", error.message);
    }

    // ‚úÖ 2. Division function with error handling
    function divide(a, b) {
      try {
        if (b === 0) {
          throw new Error("Denominator can't be zero!");
        }
        console.log(`‚úÖ Result of ${a}/${b} is:`, a / b);
      } catch (err) {
        console.log("‚ùå", err.message);
      }
    }

    divide(10, 2);  // Valid
    divide(10, 0);  // Error case

    // ‚úÖ 3. try-catch-finally example
    try {
      let x = 10;
      let y = x * 2;
      console.log("‚úÖ y =", y);
    } catch (e) {
      console.log("‚ùå Something went wrong");
    } finally {
      console.log("üßπ This will always run (finally block)");
    }

    // ‚úÖ 4. Custom error using throw
    function checkAge(age) {
      try {
        if (age < 0) {
          throw new Error("Age can't be negative!");
        } else if (age < 18) {
          throw new Error("You are underage!");
        }
        console.log("‚úÖ Age is valid:", age);
      } catch (err) {
        console.log("‚ùå", err.message);
      }
    }

    checkAge(21);    // Valid
    checkAge(-5);    // Negative age error
    checkAge(12);    // Underage error

    // ‚úÖ 5. JSON parsing with error handling
    const jsonStr = '{ "name": "Jatin", "age": 22 }';  // Valid
    const badJson = '{ name: Jatin, age: 22 }';         // Invalid

    try {
      const user = JSON.parse(jsonStr);
      console.log("‚úÖ JSON parsed:", user);
    } catch (err) {
      console.log("‚ùå Invalid JSON:", err.message);
    }

    try {
      const broken = JSON.parse(badJson);
    } catch (err) {
      console.log("‚ùå JSON parsing failed:", err.message);
    }
  </script>
</body>
</html>
